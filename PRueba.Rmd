---
title: "Untitled"
author: "Paola Villar"
date: "13/12/2020"
output: html_document
---

# Intro.

Adicionalmente, se cargan las liberias a utilizar a lo largo del proyecto:

```{r Librerias}
library(tidyverse) # tidyr, dplyr, ggplot2, purrr..... 
library(DescTools) #Herramientas para estadística descriptiva y análisis de datos
library(psych) #Herramientas de entrada de datos y análisis descriptivo.
library(scales) #Herramienta complemento de "ggplot2"
```

Se trabajara con la base de datos suministrada "Dataset_Compradores.csv".

Una inspección preliminar nos permite confirmar ciertos puntos:

-A primera vista los datos se ven correctamente separados por comas (",") y poseen encabezado en la primera fila.

-Existen datos con numeros reales (Flotantes) con variaciones en el orden de las centesimas.

Algunas consideraciones:

-No se manejeran tildes en el script para evitar errores por Enconding. #################################

Se procede a cargar los datos y la verificación detallada del contenido de cada variable

Los datos sera manejada en la  variable `datos_ori` de la cual se creará dulicado `datos` y con la cual se trabajará con el fin de mantener una copia de seguridad de los datos iniciales. Para estandarización, se extrae desde url. Por ultimo, se indica que la ultima variable "Exited" no se tomara en cuenta, por lo que resulta:

```{r datos}

data_ori <- read.csv("https://raw.githubusercontent.com/Lermaa2/ProjectoFinal-BPA/68c182ad59e0039875994b11acfcd40a66949acd/Dataset_Compradores.csv"
                 ,dec=".")

data <- data_ori[1:13]; head(data); tail(data) #Como DataFrame

```

Se observa que existen 10000 entradas, no existen notas, pie de paginas o similares que pudieran requerir ser removidos antes del analisis. 

Ahora, se definie cada variable y se indica el tipo de dato con el que se trabajará:

* RowNumber       : Indice de las entradas. ("index")

* CustomerId      : Identifiación del cliente.("int").

* Surname         : Apellido de los clientes. ("chr").

* CreditScore     : Score de Credito, valoracion de cada cliente basado en el historial crediticio. ("int").

* Geography       : Pais de origen de cada cliente. ("chr")

* Gender          : Genero de cada cliente. Se importa como "chr", se transformara a factor. ("factor")

* Age             : Edad de cada cliente. ("int").

* Tenure          : Tiempo en meses faltantes para el pago de la totalidad de la deuda. ("int")

* Balance         : Totalidad de la deuda pendiente de pago. ("num").

* NumOfProducts   : Cantidad de productos bancarios de cada cliente. ("int").

* HasCrCard       : Indica si el cliente tiene o no Tarjeta de Credito del banco. Se importa como tipo "int", se transformara a factor. ("factor").

* IsActiveMember  : Indica si el cliente esta activo en la entidad. Se importa como tipo "int", se transformara a factor. ("factor").

* EstimatedSalary : Salario estimado de cada cliente. ("num").

Adicional a los cambios de clase mencionados, se busca conocer si existen valores nulos o NA y se agregara el tipo de variable par afines del ejercicio academico:


```{r}

data$Gender <- factor(data$Gender )
data$HasCrCard <- factor(data$HasCrCard )
data$IsActiveMember <- factor(data$IsActiveMember )

data %>% map_df(~(data.frame(n_distinct = n_distinct(.x),
                             na = sum(is.na(.)),
                             null = sum(is_null(.)),
                             class = class(.x)
                             )),
                     .id = "variable") %>% mutate(type = c("index",
                                                           "cuanti/disc", 
                                                           "cuali/nomi", #Sur
                                                           "cuanti/disc",
                                                           "cuali/nomi",#Geo
                                                           "cuali/nomi",
                                                           "cuanti/disc",#Age
                                                           "cuanti/disc",
                                                           "cuanti/Nom",#Bal
                                                           "cuanti/disc",
                                                           "cuanti/disc", #Has
                                                           "cuanti/disc",
                                                           "cuanti/Nom"
                                                           ))

```
Para un anailis en conjunto en la primera fase exploratoria de variable a variable se agruparan por tipos:

```{r}



```
